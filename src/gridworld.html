<!DOCTYPE html>
<html>
<head><meta charset="utf-8" />
<title>gridworld</title>

<link rel="stylesheet" href="../libs/jupyter-notebook.css">

<!-- Loading mathjax macro -->
<!-- Load mathjax -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS_HTML"></script>
    <!-- MathJax configuration -->
    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>
    <!-- End of mathjax configuration --></head>
<body>
  <div tabindex="-1" id="notebook" class="border-box-sizing">
    <div class="container" id="notebook-container">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">matplotlib</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">matplotlib.table</span> <span class="k">import</span> <span class="n">Table</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>定义Gridworld问题中用到的常量</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># 格子尺寸</span>
<span class="n">WORLD_SIZE</span> <span class="o">=</span> <span class="mi">5</span>
<span class="c1"># 状态A的位置(下标从0开始,下同)</span>
<span class="n">A_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="c1"># 状态A&#39;的位置</span>
<span class="n">A_PRIME_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="c1"># 状态B的位置</span>
<span class="n">B_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="c1"># 状态B&#39;的位置</span>
<span class="n">B_PRIME_POS</span> <span class="o">=</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="c1"># 折扣因子</span>
<span class="n">DISCOUNT</span> <span class="o">=</span> <span class="mf">0.9</span>

<span class="c1"># 动作集={上,下,左,右}</span>
<span class="n">ACTIONS</span> <span class="o">=</span> <span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
           <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]),</span>
           <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]),</span>
           <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]),</span>
<span class="p">]</span>
<span class="c1"># 策略,每个动作等概率</span>
<span class="n">ACTION_PROB</span> <span class="o">=</span> <span class="mf">0.25</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>绘图相关函数</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">draw_image</span><span class="p">(</span><span class="n">image</span><span class="p">):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">()</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set_axis_off</span><span class="p">()</span>
    <span class="n">tb</span> <span class="o">=</span> <span class="n">Table</span><span class="p">(</span><span class="n">ax</span><span class="p">,</span> <span class="n">bbox</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>

    <span class="n">nrows</span><span class="p">,</span> <span class="n">ncols</span> <span class="o">=</span> <span class="n">image</span><span class="o">.</span><span class="n">shape</span>
    <span class="n">width</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">ncols</span><span class="p">,</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">nrows</span>

    <span class="c1"># 添加表格</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">),</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">ndenumerate</span><span class="p">(</span><span class="n">image</span><span class="p">):</span>
        <span class="n">tb</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">val</span><span class="p">,</span> 
                    <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;white&#39;</span><span class="p">)</span>

    <span class="c1"># 行标签</span>
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">image</span><span class="p">))):</span>
        <span class="n">tb</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">label</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;right&#39;</span><span class="p">,</span> 
                    <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
    <span class="c1"># 列标签</span>
    <span class="k">for</span> <span class="n">j</span><span class="p">,</span> <span class="n">label</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">image</span><span class="p">))):</span>
        <span class="n">tb</span><span class="o">.</span><span class="n">add_cell</span><span class="p">(</span><span class="n">WORLD_SIZE</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">label</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> 
                           <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;none&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">add_table</span><span class="p">(</span><span class="n">tb</span><span class="p">)</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">step</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">action</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;给定当前状态以及采取的动作,返回后继状态及其立即奖励</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    state : list</span>
<span class="sd">        当前状态</span>
<span class="sd">    action : list</span>
<span class="sd">        采取的动作</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    tuple</span>
<span class="sd">        后继状态,立即奖励</span>
<span class="sd">        </span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># 如果当前位置为状态A,则直接跳到状态A&#39;,奖励为+10</span>
    <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="n">A_POS</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">A_PRIME_POS</span><span class="p">,</span> <span class="mi">10</span>
    <span class="c1"># 如果当前位置为状态B,则直接跳到状态B&#39;,奖励为+5</span>
    <span class="k">if</span> <span class="n">state</span> <span class="o">==</span> <span class="n">B_POS</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">B_PRIME_POS</span><span class="p">,</span> <span class="mi">5</span>

    <span class="n">state</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">state</span><span class="p">)</span>
    <span class="c1"># 通过坐标运算得到后继状态</span>
    <span class="n">next_state</span> <span class="o">=</span> <span class="p">(</span><span class="n">state</span> <span class="o">+</span> <span class="n">action</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">next_state</span>
    <span class="c1"># 根据后继状态的坐标判断是否出界</span>
    <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">&gt;=</span> <span class="n">WORLD_SIZE</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">y</span> <span class="o">&gt;=</span> <span class="n">WORLD_SIZE</span><span class="p">:</span>
        <span class="c1"># 出界则待在原地,奖励为-1</span>
        <span class="n">reward</span> <span class="o">=</span> <span class="o">-</span><span class="mf">1.0</span>
        <span class="n">next_state</span> <span class="o">=</span> <span class="n">state</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># 未出界则奖励为0</span>
        <span class="n">reward</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">return</span> <span class="n">next_state</span><span class="p">,</span> <span class="n">reward</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>使用<strong>贝尔曼期望方程</strong>, 求解给定随机策略 $\pi(a | s) = \frac14$ 下的状态值函数.</p>
<p>$$
v_{\pi} = \sum \limits_{a} \pi(a|s) \sum \limits_{s^{\prime}, r}p(s^{\prime},r|s,a) \left[ r + \gamma v_{\pi}(s^{\prime}) \right]
$$</p>
<p>由于本问题在给定状态$s$和动作$a$的情况下,后继状态$s^{\prime}$和立即奖励$r$是确定的, 故可忽略上式中的转移概率$p$,故可化简为:</p>
<p>$$
v_{\pi} = \sum \limits_{a} \pi(a|s) \left[ r + \gamma v_{\pi}(s^{\prime}) \right]
$$</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">bellman_equation</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39; 求解贝尔曼(期望)方程</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># 初始值函数</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">WORLD_SIZE</span><span class="p">,</span> <span class="n">WORLD_SIZE</span><span class="p">))</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">new_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
        <span class="c1"># 遍历所有状态</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WORLD_SIZE</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WORLD_SIZE</span><span class="p">):</span>
                <span class="c1"># 遍历所有动作</span>
                <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">ACTIONS</span><span class="p">:</span>
                    <span class="c1"># 执行动作,转移到后继状态,并获得立即奖励</span>
                    <span class="p">(</span><span class="n">next_i</span><span class="p">,</span> <span class="n">next_j</span><span class="p">),</span> <span class="n">reward</span> <span class="o">=</span> <span class="n">step</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">],</span> <span class="n">action</span><span class="p">)</span>
                    <span class="c1"># 贝尔曼期望方程</span>
                    <span class="n">new_value</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">+=</span> <span class="n">ACTION_PROB</span> <span class="o">*</span> \
                    <span class="p">(</span><span class="n">reward</span> <span class="o">+</span> <span class="n">DISCOUNT</span> <span class="o">*</span> <span class="n">value</span><span class="p">[</span><span class="n">next_i</span><span class="p">,</span> <span class="n">next_j</span><span class="p">])</span>
        <span class="c1"># 迭代终止条件: 误差小于1e-4</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">value</span> <span class="o">-</span> <span class="n">new_value</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mf">1e-4</span><span class="p">:</span>
            <span class="n">draw_image</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">new_value</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;$v_{\pi}$&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">break</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">new_value</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>使用<strong>贝尔曼最优方程</strong>, 求解最优状态值函数.</p>
<p>$$
\begin{aligned} v _ { * } ( s ) &amp; = \max _ { a \in \mathcal { A } ( s ) } q _ { \pi _ { * } } ( s , a ) \\
&amp; = \max _ { a } \mathbb { E } _ { \pi _ { * } } \left[ G _ { t } | S _ { t } = s , A _ { t } = a \right] \\
&amp; = \max _ { a } \mathbb { E } _ { \pi _ { * } } \left[ R _ { t + 1 } + \gamma G _ { t + 1 } | S _ { t } = s , A _ { t } = a \right] \\
&amp; = \max _ { a } \mathbb { E } \left[ R _ { t + 1 } + \gamma v _ { * } \left( S _ { t + 1 } \right) | S _ { t } = s , A _ { t } = a \right] \\
&amp; = \max _ { a } \sum _ { s ^ { \prime } , r } p \left( s ^ { \prime } , r | s , a \right) \left[ r + \gamma v _ { * } \left( s ^ { \prime } \right) \right] \end{aligned}
$$</p>
<p>同理,忽略 $p$ 可化简为:</p>
<p>$$
v _ { * } ( s ) = \max _ { a } \left[ r + \gamma v _ { * } \left( s ^ { \prime } \right) \right]
$$</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">bellman_optimal_equation</span><span class="p">():</span>
    <span class="sd">&#39;&#39;&#39;求解贝尔曼最优方程</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="c1"># 初始值函数</span>
    <span class="n">value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">WORLD_SIZE</span><span class="p">,</span> <span class="n">WORLD_SIZE</span><span class="p">))</span>
    <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
        <span class="n">new_value</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="n">value</span><span class="o">.</span><span class="n">shape</span><span class="p">)</span>
        <span class="c1"># 遍历所有状态</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WORLD_SIZE</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">WORLD_SIZE</span><span class="p">):</span>
                <span class="n">values</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="c1"># 遍历所有动作</span>
                <span class="k">for</span> <span class="n">action</span> <span class="ow">in</span> <span class="n">ACTIONS</span><span class="p">:</span>
                    <span class="c1"># 执行动作,转移到后继状态,并获得立即奖励</span>
                    <span class="p">(</span><span class="n">next_i</span><span class="p">,</span> <span class="n">next_j</span><span class="p">),</span> <span class="n">reward</span> <span class="o">=</span> <span class="n">step</span><span class="p">([</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">],</span> <span class="n">action</span><span class="p">)</span>
                    <span class="c1"># 缓存动作值函数 q(s,a) = r + γ*v(s&#39;)</span>
                    <span class="n">values</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">reward</span> <span class="o">+</span> <span class="n">DISCOUNT</span> <span class="o">*</span> <span class="n">value</span><span class="p">[</span><span class="n">next_i</span><span class="p">,</span> <span class="n">next_j</span><span class="p">])</span>
                <span class="c1"># 根据贝尔曼最优方程,找出最大的动作值函数 q(s,a) 进行更新</span>
                <span class="n">new_value</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">values</span><span class="p">)</span>
        <span class="c1"># 迭代终止条件: 误差小于1e-4</span>
        <span class="k">if</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">abs</span><span class="p">(</span><span class="n">new_value</span> <span class="o">-</span> <span class="n">value</span><span class="p">))</span> <span class="o">&lt;</span> <span class="mf">1e-4</span><span class="p">:</span>
            <span class="n">draw_image</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="n">new_value</span><span class="p">,</span> <span class="n">decimals</span><span class="o">=</span><span class="mi">2</span><span class="p">))</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;$v_{*}$&#39;</span><span class="p">)</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">break</span>
        <span class="n">value</span> <span class="o">=</span> <span class="n">new_value</span>
</pre></div>

</div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bellman_equation</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">bellman_optimal_equation</span><span class="p">()</span>
</pre></div>

</div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

<div class="prompt"></div>




<div class="output_png output_subarea ">
<img src="data:image/png;base64,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
"
>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>根据最优值函数,可得最优策略 $\pi_{*}$.如下图所示:
(其中,箭头代表在每个状态可采取的动作)
<img src="https://ws3.sinaimg.cn/large/8662e3cegy1g11iek0d77j209h097dft.jpg" alt="最优策略" width="25%" height="25%"></p>

</div>
</div>
</div>
    </div>
  </div>
</body>

 


</html>

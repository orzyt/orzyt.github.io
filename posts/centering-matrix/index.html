<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    
    <title>中心矩阵 - 扬涛的博客</title>
    <meta itemprop="name" content="中心矩阵 - 扬涛的博客">
    <meta name="keywords" content="扬涛的博客, 郑扬涛, orzyt, leetcode">
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <link rel="alternate" href="/atom.xml" title="扬涛的博客" type="application/atom+xml">
    <link rel="icon" href="/favicon.ico">
    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/open-sans/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">
    <link rel="stylesheet" href="/libs/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <script src="/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="/libs/bootstrap/js/bootstrap.min.js"></script>
    <script src="/libs/jquery/sort.js"></script>
    




<script>
var _hmt = _hmt || [];
(function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?63f226f2212285cc30d6ffa0636da07a";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
})();
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->



</head>
</html>
<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
        <header id="header">
    <div id="header-main" class="header-inner">
        <div class="outer">
            <a href="/" id="logo">
                <i class="logo"></i>
                <span class="site-title">扬涛的博客</span>
            </a>
            <nav id="main-nav">
                <div>
                    <ul class="nav navbar-nav">
                    
                        <a class="main-nav-link" href="/.">主页</a>
                    
                        <a class="main-nav-link" href="/archives">归档</a>
                    
                        <a class="main-nav-link" href="/about">关于</a>
                    
                    
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            更多 
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            
                                <li><a href="/study">学习资源汇总</a></li>
                            
                        </ul>
                    </li>
                    
                    </ul>
                </div>
            </nav>
            
                
                <nav id="sub-nav">
                    <div class="profile" id="profile-nav">
                        <a id="profile-anchor" href="javascript:;">
                            <img class="avatar" src="/img/avatar.png">
                            <i class="fa fa-caret-down"></i>
                        </a>
                    </div>
                </nav>
            
        </div>
    </div>
    <div id="main-nav-mobile" class="header-sub header-inner">
        <ul class="menu outer">
            
                <a class="main-nav-link" href="/.">主页</a>
            
                <a class="main-nav-link" href="/archives">归档</a>
            
                <a class="main-nav-link" href="/about">关于</a>
            
                           
            <li class="dropdown">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    更多 
                    <b class="caret"></b>
                </a>
                <ul class="dropdown-menu" style="line-height:20px;min-width:120px;">
                    
                        <li><a href="/study" style="line-height:20px;padding:2px 2px;">学习资源汇总</a></li>
                    
                </ul>
            </li>
            
        </ul>
    </div>
</header>

        <div class="outer">
            
                

<aside id="profile">
    <div class="inner profile-inner">
        <div class="base-info profile-block">
            <img id="avatar" src="/img/avatar.png">
            <h2 id="name">郑扬涛</h2>
            <h3 id="title">M.S. Student @ Beihang Univ.</h3>
            <span id="location"><i class="fa fa-map-marker"></i>Beijing, China</span>
            <a id="follow" target="_blank" href="https://www.zhihu.com/people/orzyt/activities">关注我</a>
        </div>
        
        <div class="profile-block social-links">
            <table>
                <tr>
                    
                    
                    <td>
                        <a href="https://github.com/orzyt" target="_blank" title="github">
                            <i class="fa fa-github"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://www.linkedin.com/in/orzyt" target="_blank" title="linkedin">
                            <i class="fa fa-linkedin"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="https://weibo.com/orzyt" target="_blank" title="weibo">
                            <i class="fa fa-weibo"></i>
                        </a>
                    </td>
                    
                    <td>
                        <a href="/atom.xml" target="_blank" title="rss">
                            <i class="fa fa-rss"></i>
                        </a>
                    </td>
                    
                </tr>
            </table>
        </div>
        
    </div>
</aside>
            
            <section id="main"><article id="post-centering-matrix" class="article article-type-post" itemscope="" itemprop="blogPost">
    <div class="article-inner" \="">
        
        
            <header class="article-header">
                
    
        
            <h1 class="article-title" itemprop="name">
                中心矩阵
            </h1>
        
    

                
                    <div class="article-meta">
                        
    <span class="article-date">
        <i class="fa fa-calendar"></i>
        <time datetime="2019-03-30T07:58:24.000Z" itemprop="datePublished">2019-03-30</time>
    </span>


                        <span class="post-meta-divider">|</span>
                        
    <span class="article-category">
    	<i class="fa fa-folder"></i>
        <a class="article-category-link" href="/categories/数学基础/">数学基础</a>
    </span>

                        <span class="post-meta-divider">|</span>
                        
    <span class="article-tag">
        <i class="fa fa-tag"></i>
        <a class="tag-link" href="/tags/中心矩阵/">中心矩阵</a>, <a class="tag-link" href="/tags/协方差矩阵/">协方差矩阵</a>
    </span>

                    </div>
                
                <hr>
            </header>
        
        
        <div class="article-entry" itemprop="articleBody">
            
                
                    <p>最近在看迁移学习的早期文章, 在求解优化问题时, 经常会涉及到<strong>中心矩阵</strong>(centering matrix). </p>
<p>由于之前没怎么遇到过, 故总结于此.</p>
<a id="more"></a>
<hr>
<h2 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h2><p>先从多维随机变量的协方差矩阵讲起.</p>
<p>假设我们观察到 $n$ 个样本 $X=[\mathbf{x}_1,\mathbf{x}_2,\cdots,\mathbf{x}_n] \in \mathbb{R}^{p \times n}$，其中每个样本有 $p$ 维特征 (即 $p$ 个随机变量), $\mathbf{x}_i = [x_{i1}, \cdots, x_{ip}]^{\top} \in \mathbb{R}^{p \times 1}$. 我们往往需要计算各维度两两之间的协方差，这样各协方差组成了一个 $p*p$ 维的矩阵，称为协方差矩阵 $\Sigma$. 协方差矩阵是个对称矩阵, 对角线上的元素是各维度上随机变量的方差.</p>
<script type="math/tex; mode=display">
\Sigma = \frac{1}{n} \sum^{n}_{i}(\mathbf{x}_i - \bar{\mathbf{x}})(\mathbf{x}_i - \bar{\mathbf{x}})^{\top}
\tag{1}</script><p>其中, $\bar{\mathbf{x}} = \frac{1}{n} \sum^{n}_{i}\mathbf{x}_i \in \mathbb{R}^{p \times 1}$ 为 $p$ 个随机变量的均值.</p>
<p>更进一步, 我们将公式$(1)$写成矩阵形式</p>
<script type="math/tex; mode=display">
\begin{aligned}
\Sigma & = \frac{1}{n} \sum^{n}_{i}(\mathbf{x}_i - \bar{\mathbf{x}})(\mathbf{x}_i - \bar{\mathbf{x}})^{\top} \\
&= \frac{1}{n} \sum^{n}_{i} (\mathbf{x}_i \mathbf{x}^{\top}_i - \mathbf{x}_i \bar{\mathbf{x}}^{\top} - \bar{\mathbf{x}} \mathbf{x}^{\top}_i + \bar{\mathbf{x}} \bar{\mathbf{x}}^{\top}) \\
&= \frac{1}{n} XX^{\top} - \frac{1}{n} \sum^{n}_{i} \mathbf{x}_i \bar{\mathbf{x}}^{\top} - \frac{1}{n} \sum^{n}_{i} \bar{\mathbf{x}} \mathbf{x}^{\top}_i + \bar{\mathbf{x}} \bar{\mathbf{x}}^{\top} \\
&= \frac{1}{n} XX^{\top} - \left( \frac{1}{n} \sum^{n}_{i} \mathbf{x}_i \right) \bar{\mathbf{x}}^{\top} - \bar{\mathbf{x}} \left( \frac{1}{n} \sum^{n}_{i}  \mathbf{x}^{\top}_i \right) + \bar{\mathbf{x}} \bar{\mathbf{x}}^{\top} \\ 
&= \frac{1}{n} XX^{\top} - \bar{\mathbf{x}} \bar{\mathbf{x}}^{\top} - \bar{\mathbf{x}} \bar{\mathbf{x}}^{\top} + \bar{\mathbf{x}} \bar{\mathbf{x}}^{\top} \\ 
&= \frac{1}{n} XX^{\top} - \bar{\mathbf{x}} \bar{\mathbf{x}}^{\top}
\end{aligned}
\tag{2}</script><p>注意到, 随机变量的均值向量 $\bar{\mathbf{x}}$ 也可以用矩阵 $X$ 表示</p>
<script type="math/tex; mode=display">
\bar{\mathbf{x}} = \frac{1}{n}X\mathbf{1}_n
\tag{3}</script><p>其中, $\mathbf{1}_n = [1, \cdots, 1]^{\top} \in \mathbb{R}^{n \times 1}$ 为全 $1$ 的列向量.</p>
<p>因此, 将$(3)$代入公式$(2)$可得协方差矩阵的另一种表示形式</p>
<script type="math/tex; mode=display">
\begin{aligned}
\Sigma & = \frac{1}{n} XX^{\top} - \bar{\mathbf{x}} \bar{\mathbf{x}}^{\top} \\
&= \frac{1}{n} XX^{\top} - \frac{1}{n^2}X\mathbf{1}_{n}\mathbf{1}^{\top}_{n}X^{\top} \\
&= \frac{1}{n} X(I_n - \frac{1}{n}\mathbf{1}_{n}\mathbf{1}^{\top}_{n})X^{\top} \\
&=  \frac{1}{n} XHX^{\top}
\end{aligned}
\tag{4}</script><p>其中, $I_n$ 为 $n$ 阶单位阵, $H = I_n - \frac{1}{n}\mathbf{1}_{n}\mathbf{1}^{\top}_{n}$ 即定义为<strong>中心矩阵</strong>(centering matrix).</p>
<h2 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h2><h3 id="幂等性"><a href="#幂等性" class="headerlink" title="幂等性"></a>幂等性</h3><script type="math/tex; mode=display">
\begin{aligned}
H^{2} &=\left(I_{n}-\frac1n \mathbf{1}_{n} \mathbf{1}_{n}^{\top}\right)\left(I_{n}-\frac1n \mathbf{1}_{n} \mathbf{1}_{n}^{\top}\right) \\ 
&=I_{n}-\frac1n \mathbf{1}_{n} \mathbf{1}_{n}^{\top}-\frac1n \mathbf{1}_{n} \mathbf{1}_{n}^{\top}+\left(\frac1n \mathbf{1}_{n} \mathbf{1}_{n}^{\top}\right)\left(\frac1n \mathbf{1}_{n} \mathbf{1}_{n}^{\top}\right) \\
&=I_{n}-\frac1n \mathbf{1}_{n} \mathbf{1}_{n}^{\top}-\frac1n \mathbf{1}_{n} \mathbf{1}_{n}^{\top}+\frac{1}{n^2}n \mathbf{1}_{n} \mathbf{1}_{n}^{\top} \\
&=I_{n}-\frac1n \mathbf{1}_{n} \mathbf{1}_{n}^{\top} \\
&=H
\end{aligned}
\tag{5}</script><h3 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h3><p>其他性质详见维基百科: <a href="https://en.wikipedia.org/wiki/Centering_matrix" target="_blank" rel="noopener">Centering Matrix</a></p>

                
            
        </div>
        
        
            <br>
        
    </div>
    
        
<nav id="article-nav">
    
        <a href="/posts/joint-distribution-adaptation/" id="article-nav-newer" class="article-nav-link-wrap">
            <strong class="article-nav-caption">上一篇</strong>
            <div class="article-nav-title">
                
                    联合分布自适应
                
            </div>
        </a>
    
    
        <a href="/posts/deep-domain-confusion/" id="article-nav-older" class="article-nav-link-wrap">
            <strong class="article-nav-caption">下一篇</strong>
            <div class="article-nav-title">深度域混淆</div>
        </a>
    
</nav>


    
</article>


    
    
        <section id="comments">
<div id="gitalkContainer"></div>
</section>
    

</section>
            
                
<aside id="sidebar" style="position: sticky; top:-0.75rem;">
   
        
<div class="toc-article" id="toc">
    <h3 class="widget-title" style="font-size:14px;"><i class="fa fa-list-alt" style="color: #888;font-size: 14px;margin-right: 10px;"></i>文章目录</h3>
    <div class="widget-toc">
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#定义"><span class="toc-number">1.</span> <span class="toc-text">定义</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#性质"><span class="toc-number">2.</span> <span class="toc-text">性质</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#幂等性"><span class="toc-number">2.1.</span> <span class="toc-text">幂等性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#其他"><span class="toc-number">2.2.</span> <span class="toc-text">其他</span></a></li></ol></li></ol>
    </div>
</div>

    
        

    
        


    
</aside>
<div id="toTop" class="fa fa-angle-up"></div>

            
        </div>
        <footer id="footer">
    <div class="outer">
        <div id="footer-info" class="inner">
            &copy; 2019 orzyt<br>
            Powered by <a rel="”nofollow”" href="http://hexo.io/" target="_blank">Hexo</a> | Hosted by <a rel="”nofollow”" href="https://pages.coding.me">Coding Pages</a>
        </div>
    </div>
</footer>
        

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script>
    var gitalk = new Gitalk({
        id: location.pathname,
        clientID: '3628f46ff8965c297258', 
        clientSecret: 'da2ef51d9fe687db577e834867d253a697f19a9f',
        repo: 'comments',
        owner: 'orzyt',
        admin: ['orzyt'],
        distractionFreeMode: false,
        perPage: 20,
        createIssueManually: false,
        language: 'zh-CN', 
    })
    gitalk.render('gitalkContainer')
</script>







<script type="text/x-mathjax-config">
    MathJax.Hub.Config({ 
        tex2jax: { 
            inlineMath: [['$','$'], ['\\(','\\)']] }, 
            displayMath: [["$$","$$"]],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a'],
            showProcessingMessages: false,
            messageStyle: "none",
        }
    );
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>



<!-- Custom Scripts -->
<script src="/js/main.js"></script>

    </div>
    <!-- page.__post !== true --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</body>
</html>

